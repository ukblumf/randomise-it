{% macro pagination_widget(pagination, endpoint, fragment='') %}
    <ul class="pagination">
        <li{% if not pagination.has_prev %} class="disabled"{% endif %}>
            <a href="{% if pagination.has_prev %}{{ url_for(endpoint, page=pagination.prev_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}">
                &laquo;
            </a>
        </li>
        {% for p in pagination.iter_pages() %}
            {% if p %}
                {% if p == pagination.page %}
                <li class="active">
                    <a href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
                </li>
                {% else %}
                <li>
                    <a href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
                </li>
                {% endif %}
            {% else %}
            <li class="disabled"><a href="#">&hellip;</a></li>
            {% endif %}
        {% endfor %}
        <li{% if not pagination.has_next %} class="disabled"{% endif %}>
            <a href="{% if pagination.has_next %}{{ url_for(endpoint, page=pagination.next_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}">
                &raquo;
            </a>
        </li>
    </ul>
{% endmacro %}

{% macro list_rows_in_table(name, items) %}
    <input class="form-control" id="{{ name }}Filter" type="text" placeholder="Search..">
    <table class="table table-striped table-bordered fixed_header">
        <thead>
            <tr>
              <th>Name (click to edit)</th>
            </tr>
        </thead>
        <tbody id="{{ name }}List" style="height: 200px">
        {% for item in items %}
            <tr {% if item.tags is defined %}data-tag="{{ item.tags }}"{% endif %}>
                {% if item.name is defined %}
                <td><a href="{{ url_for('.edit_' + name, id=item.id) }}">{{ item.name }} {% if item.row_count is defined %} <small class="text-muted">({{ item.row_count }})</small> {% endif %}</a></td>
                {% else %}
                <td><a href="{{ url_for('.edit_' + name, id=item.id) }}">{{ item.title }}</a></td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
{%  endmacro %}

{%  macro tag_filter(tags) %}
    <label for="tagFilter">Tag:</label>
    <select id="tagFilter">
        <option label="" selected></option>
        {% for tag in tags %}
            <option label="{{ tag.id}}">{{ tag.id }}</option>
        {% endfor %}
    </select>
{% endmacro %}

{%  macro list_rows_in_ul_with_pin(name, items, pins) %}
    <input class="form-control" id="{{ name }}Filter" type="text" placeholder="Search..">
    <div style="height: 200px; overflow-y: scroll;">
        <ul class="list-group" id="{{ name }}List">
            {% for item in items %}
            <li class="list-group-item" {% if item.tags is defined %}data-tag="{{ item.tags }}{% endif %}">
                {% set icon_pin = 's' %}
                {% if pins %}
                    {% if item.id in pins %}
                        {% set icon_pin = 'w' %}
                    {% endif %}
                {% endif %}
                <span class="ui-icon ui-icon-pin-{{ icon_pin }}" onclick="pinItem('{{ name }}.{{ item.id }}', this)" ></span> <button onclick="addItem('{{ name }}.{{ item.id }}')">{{ item.name }}</button>
            </li>
            {% endfor %}
        </ul>
    </div>
{%  endmacro %}

{% macro list_rows_in_ul(name, items) %}
    <input class="form-control" id="{{ name }}Filter" type="text" placeholder="Search..">
    <div style="height: 200px; overflow-y: scroll;">
        <ul class="list-group" id="{{ name }}List">
            {% for item in items %}
            <li class="list-group-item" {% if item.tags is defined %}data-tag="{{ item.tags }}{% endif %}">
                <button onclick="addId('macro.{{ item.id }}')">{{ item.name }}</button>
            </li>
            {% endfor %}
        </ul>
    </div>
{% endmacro %}