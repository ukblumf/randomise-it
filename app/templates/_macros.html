{% macro pagination_widget(pagination, endpoint, fragment='') %}
    <ul class="pagination">
        <li{% if not pagination.has_prev %} class="disabled"{% endif %}>
            <a href="




                    {% if pagination.has_prev %}{{ url_for(endpoint, page=pagination.prev_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}">
                &laquo;
            </a>
        </li>
        {% for p in pagination.iter_pages() %}
            {% if p %}
                {% if p == pagination.page %}
                    <li class="active">
                        <a href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
                    </li>
                {% else %}
                    <li>
                        <a href="{{ url_for(endpoint, page = p, **kwargs) }}{{ fragment }}">{{ p }}</a>
                    </li>
                {% endif %}
            {% else %}
                <li class="disabled"><a href="#">&hellip;</a></li>
            {% endif %}
        {% endfor %}
        <li{% if not pagination.has_next %} class="disabled"{% endif %}>
            <a href="




                    {% if pagination.has_next %}{{ url_for(endpoint, page=pagination.next_num, **kwargs) }}{{ fragment }}{% else %}#{% endif %}">
                &raquo;
            </a>
        </li>
    </ul>
{% endmacro %}

{% macro list_rows_in_table(name, items, current_user) %}
    <input class="form-control" id="{{ name }}Filter" type="text" placeholder="Search..">
    <table class="table table-striped table-bordered fixed_header">
        <thead>
        <tr>
            <th>Name</th>
            {% if current_user.is_authenticated %}
                <th>Edit</th>
            {% endif %}
        </tr>
        </thead>
        <tbody id="{{ name }}List" style="height: 200px">
        {% for item in items %}
            <tr {% if item.tags is defined %}data-tag="{{ item.tags }}"{% endif %}>
                {% if item.name is defined %}
                    <td>{% if name == 'table' %}
                        <button id="get-random-value"
                                value="{{ url_for('.get_random_value', username=current_user.username, id=item.id) }}">
                    {% elif name == 'macro' %}
                        <button id="get-macro-value"
                                value="{{ url_for('.get_macro', username=current_user.username, id=item.id) }}">
                    {% endif %}
                        {{ item.name }}{% if item.row_count is defined %}
                            <small class="text-muted">({{ item.row_count }})</small> {% endif %}
                        {% if name in ['table', 'macro'] %}
                            </button>
                        {% endif %}
                    </td>
                    {% if current_user.is_authenticated %}
                        <td>
                            <button onclick="window.location='{{ url_for('.edit_' + name, username=current_user.username, id=item.id) }}';">
                                Edit
                            </button>
                        </td>
                    {% endif %}
                {% else %}
                    <td>{{ item.title }}</td>
                    <td>
                        <button onclick="window.location='{{ url_for('.edit_' + name, username=current_user.username, id=item.id) }}';">
                            Edit
                        </button>
                    </td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endmacro %}

{% macro tag_filter(tags) %}
    <label for="tagFilter">Tag:</label>
    <select id="tagFilter">
        <option label="" selected></option>
        {% for tag in tags %}
            <option label="{{ tag.id }}">{{ tag.id }}</option>
        {% endfor %}
    </select>
{% endmacro %}

{% macro list_rows_in_ul_with_pin(name, items, pins, current_user) %}
    {% for item in items %}
        <li class="list-group-item" {% if item.tags is defined %}data-tag="{{ item.tags }}{% endif %}">
            {% set icon_pin = 's' %}
            {% if pins %}
                {% if current_user.username + '.' + name + '.' + item.id in pins %}
                    {% set icon_pin = 'w' %}
                {% endif %}
            {% endif %}
            <span class="ui-icon ui-icon-pin-{{ icon_pin }}"
                  onclick="pinItem('{{ current_user.username }}.{{ name }}.{{ item.id }}', this)"></span>
            {% if name == 'collection' %}
                <button onclick="pinItem('{{ current_user.username }}.{{ name }}.{{ item.id }}')">{{ item.name }}</button>
            {% else %}
                <button onclick="addItem('{{ current_user.username }}.{{ name }}.{{ item.id }}')">{{ item.name }}</button>
            {% endif %}
        </li>
    {% endfor %}
{% endmacro %}

{% macro list_rows_in_ul(name, items, current_user) %}
    <input class="form-control" id="{{ name }}Filter" type="text" placeholder="Search..">
    <div style="height: 200px; overflow-y: scroll;">
        <ul class="list-group" id="{{ name }}List">
            {% for item in items %}
                <li class="list-group-item" {% if item.tags is defined %}data-tag="{{ item.tags }}{% endif %}">
                    <button onclick="addId('<<{{ current_user.username }}.{{ name }}.{{ item.id }}>>')">{{ item.name }}</button>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endmacro %}
