{% extends "base.html" %}
{% import "_macros.html" as macros %}

{% block title %}Randomise iT- Editing Screen{% endblock %}

{% block page_content %}
<div class="container-fluid">
    <div class="row">
		<div class="col-md-4">
            <h2>Sets</h2>
        </div>
		<div class="col-md-4">
            <h2>Macros</h2>
        </div>
		<div class="col-md-4">
            <h2>Tables</h2>
        </div>
    </div>
    <div class="row">
		<div class="col-md-4">
            <input class="form-control" id="setFilter" type="text" placeholder="Search..">
            <table class="table table-striped table-bordered fixed_header">
                <thead>
                    <tr>
                      <th>Name (click to edit)</th>
                    </tr>
                </thead>
                <tbody id="setList" style="height: 200px">
                {% for set in sets %}
                    <tr>
                        <td><a href="{{ url_for('.edit_set', id=set.id) }}">{{ set.name }}</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
		<div class="col-md-4">
            <input class="form-control" id="macroFilter" type="text" placeholder="Search..">
            <table class="table table-striped table-bordered fixed_header">
                <thead>
                    <tr>
                      <th>Name (click to edit)</th>
                    </tr>
                </thead>
                <tbody id="macroList" style="height: 200px">
                {% for macro in macro_list %}
                    <tr>
                        <td><a href="{{ url_for('.edit_macro', id=macro.id) }}">{{ macro.name }}</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
		<div class="col-md-4">
            <input class="form-control" id="tableFilter" type="text" placeholder="Search..">
            <table class="table table-striped table-bordered fixed_header">
                <thead>
                    <tr>
                      <th>Name (click to edit)</th>
                    </tr>
                </thead>
                <tbody id="tableList" style="height: 200px">
                {% for table in tables %}
                    <tr>
                        <td><a href="{{ url_for('.edit_table', id=table.id) }}">{{ table.name }}</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
		<div class="col-md-4">
            <h2>Tags</h2>
        </div>
		<div class="col-md-4">
            <h2>Market Products</h2>
        </div>
        <div class="col-md-4">
            <h2>Stories</h2>
        </div>
    </div>
    <div class="row">
		<div class="col-md-4">
            <input class="form-control" id="tagFilter" type="text" placeholder="Search..">
            <table class="table table-striped table-bordered fixed_header">
                <thead>
                    <tr>
                      <th>Name (click to edit)</th>
                    </tr>
                </thead>
                <tbody id="tagList" style="height: 200px">
                {% for tag in tags %}
                    <tr>
                        <td><a href="{{ url_for('.create_tag', id=tag.id) }}">{{ tag.id }}</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
		<div class="col-md-4">
            <input class="form-control" id="marketFilter" type="text" placeholder="Search..">
            <table class="table table-striped table-bordered fixed_header">
                <thead>
                    <tr>
                      <th>Name (click to edit)</th>
                    </tr>
                </thead>
                <tbody id="marketList" style="height: 200px">
                {% for market_product in market_products %}
                    <tr>
                        <td><a href="{{ url_for('.edit_market_product', id=market_product.id) }}">{{ market_product.name }}</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="col-md-4">
            <input class="form-control" id="storyFilter" type="text" placeholder="Search..">
            <table class="table table-striped table-bordered fixed_header">
                <thead>
                    <tr>
                      <th>Name (click to edit)</th>
                    </tr>
                </thead>
                <tbody id="storyList" style="height: 200px">
                {% for story in stories %}
                    <tr>
                        <td><a href="{{ url_for('.edit_story', id=story.id) }}">{{ story.title }}</a></td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
{{ super() }}
<script>
    $(document).ready(function(){
          $("#tableFilter").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#tableList tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
          $("#macroFilter").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#macroList tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
          $("#setFilter").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#setList tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
          $("#tagFilter").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#tagList tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
          $("#marketFilter").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#marketList tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
          $("#storyFilter").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#storyList tr").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
    });
</script>
{% endblock %}
